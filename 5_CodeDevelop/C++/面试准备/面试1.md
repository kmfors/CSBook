
1、malloc 与 new 的异同点

不同点：

1. malloc/free 属于 c 语言的库函数，而 new/delete 是属于 C++中的表达式（它不是个库函数！）
2. malloc申请的空间是原始的未初始化的，而new申请的空间是已初始化的（`()` 代表初始化）

相同点：都是用来申请堆空间的，都是需要成对出现的，否则会产生内存泄漏。

常见的内存问题：**内存泄漏、内存踩踏、踩内存、野指针**

内存泄漏：是指程序中已动态分配的堆内存由于某种原因程序未释放或无法释放，造成系统内存的浪费，导致程序运行速度减慢甚至系统崩溃等严重后果。

内存溢出：指应用系统中存在无法回收的内存或使用的内存过多，最终使得程序运行要用到的内存大于能提供的最大内存，导致无法运行程序。

内存踩踏：即内存重叠，是指访问了不合法的地址（访问了不属于自己的地址），如果访问的地址是其他变量的地址，就会破坏别人的数据，从而导致程序运行异常。

野指针：野指针是指向一个已经删除的对象或未申请访问受限内存区域的指针。

---

2.1  引用和指针的联系和区别
　　

引用（Reference）和指针（Pointer) 是 C++中常用的两种机制，用于间接访问变量。总的来说，引用是一种更安全，更直观的机制，用于简化代码和提高效率；而指针则更加灵活，可以在运行时动态地指向不同的对象，在选择使用引用还是指针时，应根据具体的需求和情况来决定。

**他们有以下联系：**

- 都可以用于函数参数传递：引用和指针都可以用于函数参数传递，可以实现对参数的修改。
- 都可以用于返回引用或指针：函数可以返回引用或指针，让调用者可以访问函数内部的变量。
- 都可以用于动态内存管理：
    - 指针通常用于动态内存分配和释放（new 和 delete）。
    - 引用通常用于简化代码和提高效率，但不能指向动态分配的内存。
- 都可以用于迭代器：
    - 在 STL 中，迭代器通常是指针或类似指针的对象，用于遍历容器中的元素。
    - 引用也可以用于类似的目的，但较少见。
　

**他们有几个主要的区别：**

声明和初始化：

引用使用 `&` 符号进行声明和初始化，引用在创建时必须初始化，并且一旦初始化后，不能再引用其他变量。
指针使用 `*` 符号进行声明和初始化，指针可以在任何时候被赋值为另一个地址。

空值：

- 引用不允许为空，必须在初始化时绑定到一个合法的对象。
- 指针可以为空，可以指向空（nullptr）或未初始化的内存地址。

操作：

- 引用在使用时不需要解引用操作符 `*`，因为他本身就是目标变量的别名。
- 指针需要解引用操作符 `*` 来访问目标变量的值。

　　
操作的对象：

- 引用只能和变量绑定，不能指向其他引用或无法取地址的临时对象。引用没有自己的地址，因此不能对引用进行取地址操作。
- 指针可以指向其他指针，或无法取地址的临时对象。

---



